<h3 class="mt-3">Escalas</h3>

<a class="btn bg-primary mb-2" [routerLink]="['/maintainer/scales/create']">
  Crear Escala
</a>

<table class="table table-stripped table-bordered">
  <thead class="bg-primary">
    <tr>
      <th>#</th>
      <th>Nombre</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    @for (scale of getPaginatedData(); track scale; let i = $index) {
    <tr>
      <td>{{ (currentPage() - 1) * itemsPerPage + i + 1 }}</td>
      <td>{{ scale.name }}</td>
      <td>
        <a
          [routerLink]="['/maintainer/scales/edit/', scale.id]"
          class="btn bg-primary me-2"
        >
          <fa-icon [icon]="faEdit"></fa-icon> Editar
        </a>
        <a
          class="btn"
          [ngClass]="scale.active ? 'bg-danger' : 'bg-success'"
          (click)="toggle(scale.id!)"
        >
          <fa-icon [icon]="faPowerOff"></fa-icon>
          {{ scale.active ? "Desactivar" : "Activar" }}
        </a>
      </td>
    </tr>
    }
  </tbody>
</table>

<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-end">
    <li class="page-item" [ngClass]="{ disabled: currentPage() === 1 }">
      <a class="page-link" (click)="setPage(currentPage() - 1)">Anterior</a>
    </li>
    @for (page of range(1); track page) {
    <li class="page-item" [ngClass]="{ active: currentPage() === page }">
      <a class="page-link" (click)="setPage(page)">{{ page }}</a>
    </li>
    }
    <li class="page-item" [ngClass]="{ disabled: currentPage() === nPage() }">
      <a class="page-link" (click)="setPage(currentPage() + 1)">Siguiente</a>
    </li>
  </ul>
</nav>
